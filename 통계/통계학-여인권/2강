2.1 자료의 종류와 구조

자료의 속성과 분석 목적에 따라 통계적 분석방법이 달라진다.

변수

일변량 변수: 변수가 하나 있는 경우

다변량 변수: 변수가 여러 개 있는 경우



자료는 크게 범주형 자료와 수치자료로 나눌 수 있다.

범주형 자료는 명족 자료와 순서 자료로 나뉘고

수치 자료는 이산자료나 연속 자료가 있다.



주민등록번호에 남자를 홀수 여자를 짝수로 나타내면서 수치로 나타낼 수 있다.

몸무게를 과체중, 저체중, 정상, 비만 등으로 나누면서 명목형으로 바꿀 수 있다.



그러나 자료형을 바꾸면 정보의 손실이 일어날 수 있기에 맞는 정보를 쓰는 것이 중요하다.





2.2 표를 이용한 자료정리

 2.2.1도수분포표

각각의 범주에 몇 개의 관측개체가 있는지를 표로 정리한 것.

상대도수=해당 범주 관측개체의 수/전체 관측개체의 수



많은 경우 상대도수에 100을 곱해 %로 표시한다.



도수분포표는 범주자료 뿐 아니라 수치자료에서도 사용할 수 있다. 

->아들의 수 or 딸의 수를 누적상태도수를 사용해 나타낼 수 있다.



수치자료는 다양한 값이 있기 때문에 범주화하여 도수분포표로 나타낼 수 있다.

각각의 범주를 계급(class)라 부른다.



 2.2.2 분할표

도수분포표는 일변량 자료에 대해 해당 범주에 몇 개의 관측개체가 있는지를 정리한 것이다.

두 개 이상의 변수가 있을 때는 관측개체별로 빈도를 정리해야한다.






3개 이상의 범주형 변수에도 분할표를 만들 수 있다. 이를 k차원 분할표라고 한다.





2.3 그래프를 이용한 자료정리

숫자나 수식보다 그림으로 표현하는 것이 더 효과적일 수 있다.



 2.3.1 파이차트

범주형 자료에서 각 범주의 도수 또는 상대도수가 얼마나 큰지 파악하기 위해 사용한다.

각도=비율*360도



로즈 다이어그램






 2.3.2 막대그래프

차이점을 파악하기 용이하다.

동일한 척도에서의 위치, 길이, 각도와 기울기, 면적,부피 색상 순으로 잘 인지한다고 한다.



 2.3.3 히스토그램

막대그래프와 혼용하는 경향있지만 이를 피해야 한다.

히스토그램은 수치자료, 특히 연속자료가 어떤 형태로 분포되어 있는지를 알아보기 위해 사용되는데, 해당 구간의 상대도수, 즉 비율을 직사각형의 면적으로 표현한 것이다.

히스토그램의 전체 면적은 1이 된다.



높이=상대도수/계급폭



 2.3.4 줄기-잎 그림

히스토그램을 통해 자료의 분포를 파악할 수 있으나 계급을 어떻게 정하는가에 다라 형태가 조금씩 달라질 수 있다.

관측값 정보를 그대로 간직하면서 자료가 어떻게 분포되는지 를 알 수 있다.




 2.3.5 산점도

다변량 자료에 대한 분석에서 중요한 문제 중 하나는 수치적 변수들 간의 관계를 유도하는 것이다.

관측개체의 수가 n인 다변량 자료에서 임의의 두 수치변수 x와 y의 관계를 알아본다.



3개 이상일 경우는 산점도 행렬을 사용한다.






R 실습

# 데이터 불러오기

Pie<- scan("pie.txt",what='character') # character 읽을 문자가 문자

#도수 분포표
Sale <-table(Pie)
Total<-sum(Sale)
Saleprop <-100*Sale/Total
100*prop.table(Sale)
SaleProp <-round((Saleprop),1)
Pie.Freq <- cbind(Sale,Saleprop) #두 개를 묶어준다. 오른쪽에 추가
colnames(Pie.Freq) <-c("판매량","판매비율")


#원도표
pie(Saleprop)
names(SaleProp)
names(Saleprop) <- c("고구마(11.5)", "딸기(22.2%)", "바나나(7.3%)","블루베리(20.1%)","애플(25.2%)","초코(13.7%)")
pie(SaleProp)

print(Pie.Freq)
print(Saleprop)


#막대그래프

barplot(Sale,Ylim=c(0,60),space=0.5)
abline(h=0)
abline(h=c(20,40,60),lty=3)


#취업률
job <-scan()

JobCut<- cut(Job,breaks=c(10,40,50,60,70,80,100)) # 데이터를 기준을 나눠 분류
JobCut <- cut(Job,breaks=c(10,40,50,60,70,80,100),right=FALSE) #오른쪽 포함X ]->)
JobFreq<-table(JobCut)
CumJobProp<-cumsum(JobProp) #누적 합계
Result <- cbind(JobFreq,JobProp,CumJobProp)
colnames(Result) <- c("학과수","상대도수","누적상대도수")


#히스토그램
hist(Job)
hist(job,freq=FALSE) #빈도수 제거
hist(Job,breaks = c(10,40,50,60,70,80,90,100),right=FALSE)







2.4 수치를 이용한 자료정리

그래프와 같은 자료는 중요한 정보를 제공하지만, 개인마다 다르게 판단할 수 있기에 객관적인 수치로 결론을 내린다.

중심위치와 산포가 중요하다.



 2.4.1 중심위치

표본평균

1/n∑=(x1+x2+x3...xn)/n=x바



무게중심

∑(a-xi) 평균보다 작은 곳 =  ∑(xi-a) 평균보다 큰 곳

∑(xi-a)=0



표본비율(sample proportion)

관측개체에 어떤 범주에 속하면 xi의 값을 1, 속하지 않으면 0으로 표시한다.

표본의 수 y= x1+... + xn으로 쓰고 이 범주에 포함된 비율을 표본비율이라 한다.



이상점(outlier): 나머지 관측값에서 너무 떨어져있는 경우



평균속력 40km/h와 60km/h로 각각 한시간 운전

-> 50km/h

그러나 40km/h로 4시간 60km/h로 6시간이라면?



가중평균

상품에 700원 투자-> 28% 이익

상품 300원 투자 -> 28% 손실 발생

700*0.28+300*-0.28=112

수익률->11.2%



수익률 1월 28%, 2월 -28%

100*(1+0.28)=128

128*(1-0.28)=128*0.72=92.16

=100*(1.28*0.72)

=0.9216=(1+R)^2

√1.28*0.72=0.6=1-0.04= -0.04%의 수식



조화평균

반을 60km/h 나머지를 40km/h

앞구간거리 =y,걸린 시간 (t1,t2)



y=60t1, y=40t2

평균속력: 2y/(t1+t2)=2y(y/60+y/40)=48



표본중앙값(sample median)

자료를 크기순서대로 나열했을 때 가운데 위치하는 값

순서통계량(order statistics)

오름차순으로 나열



표본절사평균(sample trimmed mean)

상위 %에서 하위 %까지 잘라내고 평균을 계산하는 것.

이상치에 robust하지 못한 경우에 사용한다.

보통 상위 몇 개, 하위 몇 개를 제외하고 사용한다.



최빈값

자료 중 가장 빈도가 많은 값



 2.4.2 퍼짐의 측도

산포(dispersion, 퍼짐):자료들이 얼마나 퍼져있는지의 정도

왜?

중심위치가 얼마나 안정적인지에 대한 정보를 제공->신뢰성



범위

가장 큰 값과 가장 작은 값의 차이



사분위범위

1사분위 25%

2사분위 50%=표본중앙값

3사반위 75%



IQR=Q3-Q1

L=Q1-1.5*IQR

U=Q3+1.5*IQR



상자그림

자료의 주요위치와 이상점 검출에 사용된다.



표본분산과 표본표준편차

좋은 중심위치가 되려면 거리의 합이 최소가 되는 값이 좋다.



k=(n-1)p+1, p=0.25. 0.5. 0.75 계산





 2.4.3 분포의 형태

비대칭의 형태를 수치화하기 위해 피어슨은 왜도라는 값을 제시했다.


왜도: 자료가 대칭적으로 분포되어 있는지 한쪽으로 기울어져 있느지에 대한 측도

양의 왜도: 오른쪽으로 기울어짐

음의 왜도: 왼쪽으로 기울어짐



->평균이 별로 대표값이 안 될수도 있다.



첨도:꼬리 부분의 두터운 정도

정규분포의 이론적 첨도는 3이다.



왜도와 첨도의 활용

심한 왜도나 큰 첨도를 가지는 경우

->자료에 이상점이 있을 가능성이 높아짐



정규성 검정

왜도=0, 첨도=3 -> 왜도가0, 첨도가3이 아니면

검정 시행



 2.4.4 상관 정도

두 수치형 변수 간에 관계가 있는지를 산점도를 통해 시각적으로 확인할 수 있으나 수치적 측도를 통해 그 관계가 어느정도 되는지를 알아볼 수 있다.



Cxy=1/n-1∑(xi-x바)(yi-y바) ->표본 공분산



표본 상관계수(coefficient of correlation)

표본 상관계수는 두 변수 간에 직선관계가 있는지를 나타낼 뿐 인과관계를 나타내는 것이 아니다.



잠복변수(lurking variabl)과 허위상관(spurious correlation)에 유의해야 한다. 
